!function(e,t){"undefined"==typeof exports?t(e):module.exports=t}(window,function(e){"use strict";if(e.Code){var t=new window.CloudHost("https://webbit.webduino.io"),o=e.Code,r=e.launcher,n="";return o.startCloudHost=s,o.stopCloudHost=i,{startCloudHost:s,stopCloudHost:i}}function s(){var e=Blockly.Xml.workspaceToDom(o.workspace).querySelector('[type="board"]:not([disabled="true"]) > [name="device_"]');return e?(n=e.textContent,new Promise(function(e,t){var n,s=o.getContext();r.loadTemplate("./templates/"+s.tpl+".html",function(t){clearTimeout(n),t.body=r.translate(t.body,MSG),t.head=r.injectDependencies(t.head,s.deps,window.origin__),"babel"===s.jsPreprocessor?t.js=o.transform(s.data.js):t.js=s.data.js;var i=r.assembleHtml(t.head,t.body,t.css,t.js);e(i)}),n=setTimeout(function(){t(new Error("load template failed"))},1e4)}).then(function(e){let o=location.origin,r=e.replace(new RegExp(o,"g"),"https://webbit.webduino.io");return t.start(n,r)}).then(function(e){return Promise.resolve(!!e.data.status)}).catch(function(e){return n="",console.error(e),Promise.resolve(!1)})):Promise.resolve(!1)}function i(e){return e=e||n,n="",e?t.stop(e).then(function(e){return Promise.resolve(!!e.data.status)}).catch(function(e){return console.error(e),Promise.resolve(!1)}):Promise.resolve(!1)}});