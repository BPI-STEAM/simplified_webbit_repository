!function(e,o){"undefined"==typeof exports?o(e):module.exports=o}(window,function(e){"use strict";if(e.Code){var o=new window.CloudHost(window.origin__||location.origin),t=e.Code,r=e.launcher,n="";return t.startCloudHost=s,t.stopCloudHost=a,{startCloudHost:s,stopCloudHost:a}}function s(){var e=Blockly.Xml.workspaceToDom(t.workspace).querySelector('[type="board"]:not([disabled="true"]) > [name="device_"]');return e?(n=e.textContent,new Promise(function(e,o){var n,s=t.getContext();r.loadTemplate("./templates/"+s.tpl+".html",function(o){clearTimeout(n),o.body=r.translate(o.body,MSG),o.head=r.injectDependencies(o.head,s.deps,window.origin__),"babel"===s.jsPreprocessor?o.js=t.transform(s.data.js):o.js=s.data.js;var a=r.assembleHtml(o.head,o.body,o.css,o.js);e(a)}),n=setTimeout(function(){o(new Error("load template failed"))},1e4)}).then(function(e){return o.start(n,e)}).then(function(e){return Promise.resolve(!!e.data.status)}).catch(function(e){return n="",console.error(e),Promise.resolve(!1)})):Promise.resolve(!1)}function a(e){return e=e||n,n="",e?o.stop(e).then(function(e){return Promise.resolve(!!e.data.status)}).catch(function(e){return console.error(e),Promise.resolve(!1)}):Promise.resolve(!1)}});